<#bs4Body>
<div class="container-fluid">
    <form class="form" id="_form">
        <div class="row row-cols-2 collapse show" id="">
            <div class="form-group col">
                <label for="s2" _log>区域2</label>
                <select id="s2" name="sw" required style="width: 20%" required multiple>
                    <option value="1">test</option>
                </select>
                <#bselect2 _id="s2" _mode="remote" _provider="cityProvider" _value="[1]" _optionVariable="cityAutoCompleteOption" />
            </div>
        </div>

        <button type="button" class="btn btn-primary" onclick="bui.util.debounce(saveOrUpdateHandler,1000,true)()">提交</button>
    </form>
</div>
</#bs4Body>
<script>
    console.log('main')
    function saveOrUpdateHandler(){
        if ($('#_form').validate().form() != true) {
            return false;
        }
        console.log('okkkkkkkk')
    }

    var cityAutoCompleteOption = {
        width: '100%',
        language: 'zh-CN',
        maximumSelectionLength: 2,
    }


    // $('#s2').select2({
    //     data:[{id:1,text:'张三'},{id:2,text:'李四'}],
    // ajax: {
    //     type:'post',
    //     url: '/provider/getLookupList.action',
    //     data: function (params) {
    //         var query = {
    //             value: params.term,
    //             // queryParams: '{required:true}',
    //             provider:'cityProvider'
    //         }
    //         return query;
    //     },
    //     dataType: 'json',
    //     processResults: function (data) {
    //         return {
    //             results: $.map(data, function (obj) {
    //                 obj.id = obj.value; // replace pk with your identifier
    //                 return obj;
    //             })
    //         };
    //     }
    // }
    // });
    // var option = new Option('张三', 1, false, false);
    // $('#s2').append(option);
    $('#s2').on('change', function (e) {
        console.log(e);
    });



    $('#s2').on('select2:select', function (e) {
        var data = e.params.data;
        console.log(data);
    });
    // $('#s2').on('select2:selecting', function (e) {
    //     var data = e.params.data;
    //     console.log(data);
    // });
    $('#s2').val(1).trigger('change.select2');
</script>